<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="BudgetApp.Views.BudgetView"
             xmlns:viewModel="clr-namespace:BudgetApp.Viewmodels"
             xmlns:local="clr-namespace:BudgetApp.Views"
             >

        <ContentPage.BindingContext>
            <viewModel:PaymentViewModel/>
        </ContentPage.BindingContext>

        <StackLayout Padding="10">

            <Entry Text="{Binding Money, Mode=TwoWay}" Placeholder="Enter Amount" Keyboard="Numeric"/>
            <Picker ItemsSource="{Binding Categories}" SelectedItem="{Binding SpendingCategory}"/>
            <Button Text="Add payment" Command="{Binding AddPaymentCommand}"/>
            <Label Text="{Binding Total, StringFormat='Total: {0:C}'}" FontSize="22"/>
            <ListView ItemsSource="{Binding Payments}">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextCell
                            Text="{Binding Money, StringFormat='Amount: {0:C}'}"
                            Detail="{Binding Categories, StringFormat='Category:{0}'}"/>

                    </DataTemplate>

                </ListView.ItemTemplate>
            </ListView>

        </StackLayout>

</ContentPage>
